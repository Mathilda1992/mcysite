{% extends "base.html" %}

{% block content %}
    <p>这里是用户查看资源库中已有资源的页面，包含公共资源库和个人资源库，默认是展示用户个人的资源列表</p>
    <ul>
        <li><a href="/repo_home/" >公共资源库</a></li>
        <ul>
            <li><a href="/repo_home/" >公共实验资源</a></li>
            <li><a href="/repo_public_image_list/" >公共镜像资源</a></li>
        </ul>

        <li><a href="/repo_private_list/" >我的资源</a></li>
        <ul>
            <li><a href="/repo_private_exp_list/" >我的实验资源</a></li>
            <li><a href="/repo_private_image_list/" >我的镜像资源</a></li>
            <li><a href="/repo_create_image/" target="_blank">创建镜像</a></li>
            <li><a href="/repo_private_network_list/">我的网络资源</a></li>
            <li><a href="/repo_create_network/" target="_blank">创建网络</a></li>
            <li><a href="/repo_private_VM_list/" target="_blank">我的虚拟机资源</a></li>

        </ul>
        <li><a href="/repo_ImageCart_list/">购物车</a></li>
        <ul>
            <li><a href="/repo_ImageCart_list/">镜像购物车</a></li>
            <li><a href="/repo_NetworkCart_list/">网络购物车</a></li>
        </ul>
    </ul>

    <div class="header">
        <h1 align="center">公共镜像资源</h1>
    </div>

     {% for item in PublicImageList %}
        <div align="center" class="blog">
            <div class="title">
                <a href="{% url 'repo_image_detail' item.id %}" target="_blank"><h2>{{ item.name }}</h2></a>
                <a href="{% url 'repo_image_detail' item.id %}" target="_blank">详情</a>|
                <a href="{% url 'repo_public_image_delete' item.id %}" >删除</a>
                {% ifequal item.is_shared False %}
                    |<a href="{% url 'repo_image_share' item.id %}" >共享</a>
                {% endifequal %}
                |<a href="{% url 'repo_ImageCart_add' item.id %}" >加入购物车</a>
            </div>
        <div class="info">
            <span class="catagory" style="color: #ff9900;">镜像名称：{{ item.name }}</span>
            <span class="author" style="color: #4a86e8;">共享者：{{ item.owner.username }}</span>
            <span class="created" style="color: #6aa84e;">共享日期：{{ item.shared_time |date:"Y-m-d H:i" }}</span>


        </div>
        <div class="summary">
            {{ item.exp_description | truncatechars:100 }}
        </div>
        </div>
    {% endfor %}




{% endblock %}
